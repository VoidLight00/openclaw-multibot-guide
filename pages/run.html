<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>6. 실행 & 테스트 - OpenClaw 멀티봇 가이드</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo">[CLAW] OpenClaw <span>Guide</span></a>
      <nav>
        <ul class="sidebar-nav"><li><a href="../index.html">시작하기</a></li></ul>
        <div class="sidebar-section">가이드</div>
        <ul class="sidebar-nav">
          <li><a href="intro.html">1. 개요</a></li>
          <li><a href="setup.html">2. 사전 준비</a></li>
          <li><a href="models.html">3. AI 모델 설정</a></li>
          <li><a href="workspace.html">4. Workspace 구조</a></li>
          <li><a href="config.html">5. Config 설정</a></li>
          <li><a href="run.html" class="active">6. 실행 & 테스트</a></li>
        </ul>
        <div class="sidebar-section">실전</div>
        <ul class="sidebar-nav">
          <li><a href="examples.html">활용 예시</a></li>
          <li><a href="auto-setup.html">자동 설정 템플릿</a></li>
          <li><a href="troubleshooting.html">트러블슈팅</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main">
      <h1>6. 실행 & 테스트</h1>
      <p class="lead">
        드디어! Gateway를 시작하고 모든 봇이 작동하는지 테스트합니다.
      </p>

      <div class="alert alert-warning">
        <div class="alert-title">[!] 실행 전 확인</div>
        <p>같은 봇 토큰을 사용하는 다른 기기의 OpenClaw를 먼저 중지하세요!</p>
        <div class="code-header">
          <span>다른 기기에서</span>
        </div>
        <pre><code>openclaw gateway stop</code></pre>
      </div>

      <h2>[START] Gateway 시작</h2>

      <div class="steps">
        <div class="step">
          <h4>상태 확인</h4>
          <div class="code-header">
            <span>Terminal</span>
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
          </div>
          <pre><code>openclaw status</code></pre>
          <p>현재 Gateway 상태와 연결된 채널을 확인합니다.</p>
        </div>
        
        <div class="step">
          <h4>Gateway 시작</h4>
          <div class="code-header">
            <span>Terminal</span>
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
          </div>
          <pre><code>openclaw gateway start</code></pre>
          <p>또는 포그라운드에서 실행 (로그 확인용):</p>
          <div class="code-header">
            <span>Terminal</span>
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
          </div>
          <pre><code>openclaw gateway</code></pre>
        </div>
        
        <div class="step">
          <h4>로그 확인</h4>
          <div class="code-header">
            <span>Terminal</span>
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
          </div>
          <pre><code>openclaw logs --tail 50</code></pre>
          <p>에러가 없는지 확인합니다.</p>
        </div>
      </div>

      <h2>[OK] 봇 테스트</h2>
      
      <p>각 텔레그램 봇에게 메시지를 보내 테스트합니다.</p>

      <h3>테스트 순서</h3>
      
      <table>
        <thead>
          <tr>
            <th>봇</th>
            <th>테스트 메시지</th>
            <th>예상 응답</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>@belphegor_bot</td>
            <td><code>/start</code> 또는 "안녕"</td>
            <td>벨페고르 페르소나로 응답</td>
          </tr>
          <tr>
            <td>@mammon_bot</td>
            <td><code>/start</code> 또는 "안녕"</td>
            <td>마몬 페르소나로 응답</td>
          </tr>
          <tr>
            <td>@asmodeus_bot</td>
            <td><code>/start</code> 또는 "안녕"</td>
            <td>아스모데우스 페르소나로 응답</td>
          </tr>
        </tbody>
      </table>

      <h3>첫 대화 시 Pairing</h3>
      
      <p><code>dmPolicy: "pairing"</code> 설정 시, 새로운 사용자는 승인이 필요합니다.</p>
      
      <div class="code-header">
        <span>Pairing 승인 (터미널에서)</span>
      </div>
      <pre><code># 대기 중인 페어링 요청 확인
openclaw pairing list

# 승인
openclaw pairing approve &lt;request-id&gt;</code></pre>

      <p>또는 웹 UI에서 승인할 수도 있습니다:</p>
      <div class="code-header">
        <span>Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw dashboard</code></pre>

      <h2>[FIX] 유용한 명령어</h2>
      
      <table>
        <thead>
          <tr>
            <th>명령어</th>
            <th>설명</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>openclaw gateway start</code></td>
            <td>Gateway 백그라운드 시작</td>
          </tr>
          <tr>
            <td><code>openclaw gateway stop</code></td>
            <td>Gateway 중지</td>
          </tr>
          <tr>
            <td><code>openclaw gateway restart</code></td>
            <td>Gateway 재시작</td>
          </tr>
          <tr>
            <td><code>openclaw status</code></td>
            <td>상태 확인</td>
          </tr>
          <tr>
            <td><code>openclaw logs</code></td>
            <td>로그 보기</td>
          </tr>
          <tr>
            <td><code>openclaw health</code></td>
            <td>헬스 체크</td>
          </tr>
          <tr>
            <td><code>openclaw dashboard</code></td>
            <td>웹 UI 열기</td>
          </tr>
        </tbody>
      </table>

      <h2>[SYNC] 자동 시작 설정</h2>
      
      <p>Mac 재부팅 시 자동으로 Gateway를 시작하려면:</p>
      
      <div class="code-header">
        <span>Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code># launchd 서비스 등록
openclaw daemon install

# 서비스 상태 확인
openclaw daemon status

# 서비스 제거
openclaw daemon uninstall</code></pre>

      <h2>[DONE] 완료!</h2>
      
      <div class="alert alert-success">
        <div class="alert-title">축하합니다! </div>
        <p>멀티봇 설정이 완료되었습니다. 이제 각 봇이 독립적으로 작동합니다!</p>
      </div>

      <div class="card-grid">
        <div class="card">
          <h4>다음 단계</h4>
          <ul>
            <li><a href="examples.html">활용 예시</a> 확인</li>
            <li>에이전트별 SOUL.md 커스터마이징</li>
            <li>Heartbeat 설정으로 자동 체크</li>
          </ul>
        </div>
        <div class="card">
          <h4>문제가 있다면</h4>
          <ul>
            <li><a href="troubleshooting.html">트러블슈팅</a> 참고</li>
            <li><code>openclaw logs</code>로 에러 확인</li>
            <li><a href="https://discord.com/invite/clawd">Discord 커뮤니티</a></li>
          </ul>
        </div>
      </div>

      <div class="page-nav">
        <a href="config.html">
          <span class="page-nav-label">이전</span>
          <span class="page-nav-title">← 5. Config 설정</span>
        </a>
        <a href="examples.html" class="page-nav-next">
          <span class="page-nav-label">다음</span>
          <span class="page-nav-title">활용 예시 →</span>
        </a>
      </div>
    </main>
  </div>
  <script src="../js/main.js"></script>
</body>
</html>
