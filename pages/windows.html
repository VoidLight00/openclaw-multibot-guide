<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Windows WSL2 설치 - OpenClaw 멀티봇 가이드</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo">[CLAW] OpenClaw <span>Guide</span></a>
      <nav>
        <ul class="sidebar-nav"><li><a href="../index.html">시작하기</a></li></ul>
        <div class="sidebar-section">가이드</div>
        <ul class="sidebar-nav">
          <li><a href="intro.html">1. 개요</a></li>
          <li><a href="setup.html">2. 사전 준비</a></li>
          <li><a href="models.html">3. AI 모델 설정</a></li>
          <li><a href="workspace.html">4. Workspace 구조</a></li>
          <li><a href="config.html">5. Config 설정</a></li>
          <li><a href="run.html">6. 실행 & 테스트</a></li>
        </ul>
        <div class="sidebar-section">플랫폼</div>
        <ul class="sidebar-nav">
          <li><a href="mac-server.html">Mac Mini 서버</a></li>
          <li><a href="windows.html" class="active">Windows (WSL2)</a></li>
        </ul>
        <div class="sidebar-section">실전</div>
        <ul class="sidebar-nav">
          <li><a href="examples.html">활용 예시</a></li>
          <li><a href="troubleshooting.html">트러블슈팅</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main">
      <h1>Windows WSL2 설치 가이드</h1>
      <p class="lead">
        Windows 11에서 WSL2 + Ubuntu를 이용한 OpenClaw 설치.
        처음부터 끝까지 한국어로 안내합니다.
      </p>

      <div class="alert alert-info">
        <div class="alert-title">[i] 테스트 환경</div>
        <p>Windows 11 + WSL 2.4.13.0 + Ubuntu 24.04.2 LTS + Node.js 22</p>
      </div>

      <h2>[1] WSL2 설치</h2>

      <h3>1.1 WSL 버전 확인</h3>
      
      <p>PowerShell을 열고 실행:</p>
      
      <div class="code-header">
        <span>PowerShell</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>wsl --version
wsl --list --verbose</code></pre>

      <h3>1.2 WSL 없으면 설치</h3>
      
      <p>PowerShell을 <strong>관리자 권한</strong>으로 열고:</p>
      
      <div class="code-header">
        <span>PowerShell (관리자)</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>wsl --install -d Ubuntu-24.04</code></pre>

      <p>설치 후 재부팅 필요.</p>

      <h2>[2] Ubuntu 설정</h2>

      <h3>2.1 Ubuntu 시작</h3>
      
      <div class="code-header">
        <span>PowerShell</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>wsl</code></pre>

      <p>또는 시작 메뉴에서 "Ubuntu" 검색.</p>

      <h3>2.2 systemd 활성화 확인</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>systemctl --user status</code></pre>

      <p>에러 나면 systemd 활성화:</p>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>sudo tee /etc/wsl.conf >/dev/null <<'EOF'
[boot]
systemd=true
EOF</code></pre>

      <p>그 다음 PowerShell에서:</p>
      
      <div class="code-header">
        <span>PowerShell</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>wsl --shutdown</code></pre>

      <p>다시 Ubuntu 시작.</p>

      <h3>2.3 Node.js 22 설치</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code># Node.js 버전 확인
node -v

# 없거나 버전 낮으면 설치
curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -
sudo apt-get install -y nodejs

# 확인
node -v   # v22.x.x
npm -v    # 10.x.x</code></pre>

      <h2>[3] OpenClaw 설치</h2>

      <h3>3.1 인스톨러 실행</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>curl -fsSL https://openclaw.bot/install.sh | bash</code></pre>

      <h3>3.2 Doctor 질문 응답</h3>
      
      <p>모두 <strong>Yes (Enter)</strong> 선택:</p>
      
      <table>
        <thead>
          <tr>
            <th>질문</th>
            <th>응답</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Generate gateway token?</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Tighten permissions?</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Create session store dir?</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Create OAuth dir?</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Install gateway service?</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Gateway service runtime?</td>
            <td>Node (recommended)</td>
          </tr>
        </tbody>
      </table>

      <h3>3.3 설치 확인</h3>
      
      <div class="code-header">
        <span>출력 예시</span>
      </div>
      <pre><code>[CLAW] OpenClaw 2026.x.x
Dashboard URL: http://127.0.0.1:18789/</code></pre>

      <h2>[4] 초기 설정</h2>

      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code># Gateway 모드 설정
openclaw config set gateway.mode local

# 데몬 재시작
openclaw daemon restart

# 상태 확인
openclaw status</code></pre>

      <h2>[5] AI 모델 & 채널 설정</h2>

      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw configure</code></pre>

      <h3>5.1 설정 흐름</h3>
      
      <table>
        <thead>
          <tr>
            <th>단계</th>
            <th>선택</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Gateway 위치</td>
            <td>Local (this machine)</td>
          </tr>
          <tr>
            <td>섹션 선택</td>
            <td>Model + Channels 체크 → Continue</td>
          </tr>
          <tr>
            <td>Model Provider</td>
            <td>Anthropic/Google/OpenAI 중 선택</td>
          </tr>
          <tr>
            <td>인증</td>
            <td>OAuth 또는 API Key</td>
          </tr>
          <tr>
            <td>Channel</td>
            <td>Telegram (Bot API)</td>
          </tr>
        </tbody>
      </table>

      <h3>5.2 Telegram 봇 토큰 입력</h3>
      
      <p>BotFather에서 발급받은 토큰 입력:</p>
      
      <div class="code-header">
        <span>프롬프트</span>
      </div>
      <pre><code>"Enter Telegram bot token"
→ 1234567890:ABCdefGhIJKlmnOPQrstUVwxyz</code></pre>

      <h3>5.3 설정 완료 후</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw daemon restart
openclaw status</code></pre>

      <p>Channels 섹션에서 Telegram이 <code>ON</code>, State: <code>OK</code> 확인.</p>

      <h2>[6] Telegram 페어링</h2>

      <h3>6.1 봇에게 메시지</h3>
      
      <ol>
        <li>Telegram 앱에서 생성한 봇 검색</li>
        <li><code>/start</code> 또는 아무 메시지 전송</li>
        <li>봇이 페어링 코드 응답 (예: <code>X9E5XSS3</code>)</li>
      </ol>

      <h3>6.2 페어링 승인</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw pairing approve telegram X9E5XSS3</code></pre>

      <h3>6.3 테스트</h3>
      
      <p>Telegram에서 메시지 보내면 AI가 응답!</p>

      <h2>[7] 대시보드 접속</h2>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw dashboard</code></pre>

      <p>출력된 URL을 Windows 브라우저에서 열기:</p>
      
      <div class="code-header">
        <span>URL 예시</span>
      </div>
      <pre><code>http://127.0.0.1:18789/?token=your-gateway-token</code></pre>

      <h2>[REBOOT] Windows 재부팅 후</h2>
      
      <p>Windows 재부팅 후 OpenClaw 다시 시작하려면:</p>
      
      <div class="code-header">
        <span>순서</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code># 1. WSL 시작 (PowerShell에서)
wsl

# 2. 상태 확인 (Ubuntu에서)
openclaw status

# 3. 필요시 시작
openclaw daemon start</code></pre>

      <div class="alert alert-info">
        <div class="alert-title">[i] 자동 시작</div>
        <p>systemd lingering 활성화 시 WSL 시작하면 Gateway가 자동 실행됩니다.</p>
      </div>

      <h2>[FIX] 문제 해결</h2>

      <h3>Gateway 연결 실패</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>openclaw doctor --fix
openclaw daemon restart</code></pre>

      <h3>로그 확인</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code># 실시간 로그
openclaw logs --follow

# 종료: Ctrl+C</code></pre>

      <h3>systemd 서비스 상태</h3>
      
      <div class="code-header">
        <span>Ubuntu Terminal</span>
        <button class="copy-btn" onclick="copyCode(this)">복사</button>
      </div>
      <pre><code>systemctl --user status openclaw-gateway.service
systemctl --user restart openclaw-gateway.service</code></pre>

      <h2>[CMD] 유용한 명령어</h2>
      
      <table>
        <thead>
          <tr>
            <th>명령어</th>
            <th>설명</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>openclaw status</code></td>
            <td>상태 확인</td>
          </tr>
          <tr>
            <td><code>openclaw daemon start/stop/restart</code></td>
            <td>서비스 관리</td>
          </tr>
          <tr>
            <td><code>openclaw configure</code></td>
            <td>대화형 설정</td>
          </tr>
          <tr>
            <td><code>openclaw pairing approve &lt;channel&gt; &lt;code&gt;</code></td>
            <td>페어링 승인</td>
          </tr>
          <tr>
            <td><code>openclaw doctor --fix</code></td>
            <td>자동 수정</td>
          </tr>
          <tr>
            <td><code>openclaw logs --follow</code></td>
            <td>실시간 로그</td>
          </tr>
        </tbody>
      </table>

      <div class="page-nav">
        <a href="mac-server.html">
          <span class="page-nav-label">이전</span>
          <span class="page-nav-title">← Mac Mini 서버</span>
        </a>
        <a href="examples.html" class="page-nav-next">
          <span class="page-nav-label">다음</span>
          <span class="page-nav-title">활용 예시 →</span>
        </a>
      </div>
    </main>
  </div>
  <script src="../js/main.js"></script>
</body>
</html>
